#0 building with "desktop-linux" instance using docker driver

#1 [internal] load build definition from Dockerfile.v79-final
#1 transferring dockerfile: 2.04kB 0.0s done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/pytorch/pytorch:2.1.2-cuda12.1-cudnn8-devel
#2 ...

#3 [auth] pytorch/pytorch:pull token for registry-1.docker.io
#3 DONE 0.0s

#2 [internal] load metadata for docker.io/pytorch/pytorch:2.1.2-cuda12.1-cudnn8-devel
#2 DONE 0.9s

#4 [internal] load .dockerignore
#4 transferring context: 2B done
#4 DONE 0.0s

#5 [1/9] FROM docker.io/pytorch/pytorch:2.1.2-cuda12.1-cudnn8-devel@sha256:a5de097b482f5927baf2322f4419f11044bfe4f08c7b7593dbaff8e41d03a204
#5 DONE 0.0s

#6 [internal] load build context
#6 transferring context: 248B done
#6 DONE 0.0s

#7 [5/9] COPY handler_v75.py handler.py
#7 CACHED

#8 [2/9] RUN apt-get update && apt-get install -y     git     ffmpeg     gcc     g++     build-essential     && rm -rf /var/lib/apt/lists/*
#8 CACHED

#9 [3/9] WORKDIR /app
#9 CACHED

#10 [4/9] COPY multitalk_v75_0_json_input.py .
#10 CACHED

#11 [6/9] COPY setup_official_multitalk_v78.sh .
#11 CACHED

#12 [7/9] RUN pip install --no-cache-dir     numpy==1.24.3     scipy==1.10.1     transformers==4.43.3     tokenizers==0.19.1     librosa==0.10.2     soundfile==0.12.1     diffusers     accelerate     safetensors     opencv-python     imageio     huggingface-hub==0.23.5     einops     rotary-embedding-torch     tensorboardX     omegaconf     easydict     ftfy     xformers
#12 1.110 Collecting numpy==1.24.3
#12 1.180   Downloading numpy-1.24.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.6 kB)
#12 1.309 Collecting scipy==1.10.1
#12 1.318   Downloading scipy-1.10.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (58 kB)
#12 1.329      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 58.9/58.9 kB 8.8 MB/s eta 0:00:00
#12 1.385 Collecting transformers==4.43.3
#12 1.392   Downloading transformers-4.43.3-py3-none-any.whl.metadata (43 kB)
#12 1.395      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.7/43.7 kB 22.4 MB/s eta 0:00:00
#12 1.595 Collecting tokenizers==0.19.1
#12 1.605   Downloading tokenizers-0.19.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.7 kB)
#12 1.702 Collecting librosa==0.10.2
#12 1.710   Downloading librosa-0.10.2-py3-none-any.whl.metadata (8.6 kB)
#12 1.729 Collecting soundfile==0.12.1
#12 1.738   Downloading soundfile-0.12.1-py2.py3-none-manylinux_2_31_x86_64.whl.metadata (14 kB)
#12 1.772 Collecting diffusers
#12 1.780   Downloading diffusers-0.34.0-py3-none-any.whl.metadata (20 kB)
#12 1.810 Collecting accelerate
#12 1.818   Downloading accelerate-1.8.1-py3-none-any.whl.metadata (19 kB)
#12 1.950 Collecting safetensors
#12 1.957   Downloading safetensors-0.5.3-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)
#12 2.035 Collecting opencv-python
#12 2.044   Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (19 kB)
#12 2.076 Collecting imageio
#12 2.083   Downloading imageio-2.37.0-py3-none-any.whl.metadata (5.2 kB)
#12 2.137 Collecting huggingface-hub==0.23.5
#12 2.147   Downloading huggingface_hub-0.23.5-py3-none-any.whl.metadata (12 kB)
#12 2.163 Collecting einops
#12 2.170   Downloading einops-0.8.1-py3-none-any.whl.metadata (13 kB)
#12 2.472 Collecting rotary-embedding-torch
#12 2.481   Downloading rotary_embedding_torch-0.8.8-py3-none-any.whl.metadata (883 bytes)
#12 2.499 Collecting tensorboardX
#12 2.508   Downloading tensorboardx-2.6.4-py3-none-any.whl.metadata (6.2 kB)
#12 2.570 Collecting omegaconf
#12 2.645   Downloading omegaconf-2.3.0-py3-none-any.whl.metadata (3.9 kB)
#12 2.659 Collecting easydict
#12 2.667   Downloading easydict-1.13-py3-none-any.whl.metadata (4.2 kB)
#12 2.687 Collecting ftfy
#12 2.698   Downloading ftfy-6.3.1-py3-none-any.whl.metadata (7.3 kB)
#12 2.733 Collecting xformers
#12 2.739   Downloading xformers-0.0.31.post1-cp39-abi3-manylinux_2_28_x86_64.whl.metadata (1.1 kB)
#12 3.031 Requirement already satisfied: filelock in /opt/conda/lib/python3.10/site-packages (from transformers==4.43.3) (3.13.1)
#12 3.051 Requirement already satisfied: packaging>=20.0 in /opt/conda/lib/python3.10/site-packages (from transformers==4.43.3) (23.1)
#12 3.052 Requirement already satisfied: pyyaml>=5.1 in /opt/conda/lib/python3.10/site-packages (from transformers==4.43.3) (6.0.1)
#12 3.544 Collecting regex!=2019.12.17 (from transformers==4.43.3)
#12 3.551   Downloading regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (40 kB)
#12 3.553      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.5/40.5 kB 230.4 MB/s eta 0:00:00
#12 3.555 Requirement already satisfied: requests in /opt/conda/lib/python3.10/site-packages (from transformers==4.43.3) (2.31.0)
#12 3.561 Requirement already satisfied: tqdm>=4.27 in /opt/conda/lib/python3.10/site-packages (from transformers==4.43.3) (4.65.0)
#12 3.774 Collecting audioread>=2.1.9 (from librosa==0.10.2)
#12 3.783   Downloading audioread-3.0.1-py3-none-any.whl.metadata (8.4 kB)
#12 3.977 Collecting scikit-learn>=0.20.0 (from librosa==0.10.2)
#12 3.985   Downloading scikit_learn-1.7.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (17 kB)
#12 4.016 Collecting joblib>=0.14 (from librosa==0.10.2)
#12 4.023   Downloading joblib-1.5.1-py3-none-any.whl.metadata (5.6 kB)
#12 4.024 Requirement already satisfied: decorator>=4.3.0 in /opt/conda/lib/python3.10/site-packages (from librosa==0.10.2) (5.1.1)
#12 4.122 Collecting numba>=0.51.0 (from librosa==0.10.2)
#12 4.215   Downloading numba-0.61.2-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.8 kB)
#12 4.245 Collecting pooch>=1.1 (from librosa==0.10.2)
#12 4.253   Downloading pooch-1.8.2-py3-none-any.whl.metadata (10 kB)
#12 4.471 Collecting soxr>=0.3.2 (from librosa==0.10.2)
#12 4.480   Downloading soxr-0.5.0.post1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.6 kB)
#12 4.481 Requirement already satisfied: typing-extensions>=4.1.1 in /opt/conda/lib/python3.10/site-packages (from librosa==0.10.2) (4.7.1)
#12 4.496 Collecting lazy-loader>=0.1 (from librosa==0.10.2)
#12 4.504   Downloading lazy_loader-0.4-py3-none-any.whl.metadata (7.6 kB)
#12 4.625 Collecting msgpack>=1.0 (from librosa==0.10.2)
#12 4.633   Downloading msgpack-1.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (8.4 kB)
#12 4.637 Requirement already satisfied: cffi>=1.0 in /opt/conda/lib/python3.10/site-packages (from soundfile==0.12.1) (1.16.0)
#12 4.692 Requirement already satisfied: fsspec>=2023.5.0 in /opt/conda/lib/python3.10/site-packages (from huggingface-hub==0.23.5) (2023.12.2)
#12 4.792 Collecting importlib_metadata (from diffusers)
#12 4.801   Downloading importlib_metadata-8.7.0-py3-none-any.whl.metadata (4.8 kB)
#12 4.814 INFO: pip is looking at multiple versions of diffusers to determine which version is compatible with other requirements. This could take a while.
#12 4.819 Collecting diffusers
#12 4.826   Downloading diffusers-0.33.1-py3-none-any.whl.metadata (19 kB)
#12 4.936   Downloading diffusers-0.33.0-py3-none-any.whl.metadata (20 kB)
#12 4.998   Downloading diffusers-0.32.2-py3-none-any.whl.metadata (18 kB)
#12 5.041 Requirement already satisfied: Pillow in /opt/conda/lib/python3.10/site-packages (from diffusers) (10.0.1)
#12 5.095 Requirement already satisfied: psutil in /opt/conda/lib/python3.10/site-packages (from accelerate) (5.9.0)
#12 5.098 Requirement already satisfied: torch>=2.0.0 in /opt/conda/lib/python3.10/site-packages (from accelerate) (2.1.2)
#12 5.149 INFO: pip is looking at multiple versions of opencv-python to determine which version is compatible with other requirements. This could take a while.
#12 5.153 Collecting opencv-python
#12 5.161   Downloading opencv_python-4.11.0.86-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (20 kB)
#12 5.433 Collecting protobuf>=3.20 (from tensorboardX)
#12 5.440   Downloading protobuf-6.31.1-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
#12 5.460 Collecting antlr4-python3-runtime==4.9.* (from omegaconf)
#12 5.467   Downloading antlr4-python3-runtime-4.9.3.tar.gz (117 kB)
#12 5.473      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.0/117.0 kB 27.7 MB/s eta 0:00:00
#12 5.491   Preparing metadata (setup.py): started
#12 5.760   Preparing metadata (setup.py): finished with status 'done'
#12 5.772 Requirement already satisfied: wcwidth in /opt/conda/lib/python3.10/site-packages (from ftfy) (0.2.5)
#12 5.824 Collecting torch>=2.0.0 (from accelerate)
#12 5.832   Downloading torch-2.7.1-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (29 kB)
#12 5.887 Collecting typing-extensions>=4.1.1 (from librosa==0.10.2)
#12 5.895   Downloading typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
#12 5.920 Collecting sympy>=1.13.3 (from torch>=2.0.0->accelerate)
#12 5.924   Downloading sympy-1.14.0-py3-none-any.whl.metadata (12 kB)
#12 5.926 Requirement already satisfied: networkx in /opt/conda/lib/python3.10/site-packages (from torch>=2.0.0->accelerate) (3.1)
#12 5.927 Requirement already satisfied: jinja2 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0.0->accelerate) (3.1.2)
#12 5.944 Collecting nvidia-cuda-nvrtc-cu12==12.6.77 (from torch>=2.0.0->accelerate)
#12 5.950   Downloading nvidia_cuda_nvrtc_cu12-12.6.77-py3-none-manylinux2014_x86_64.whl.metadata (1.5 kB)
#12 5.967 Collecting nvidia-cuda-runtime-cu12==12.6.77 (from torch>=2.0.0->accelerate)
#12 5.973   Downloading nvidia_cuda_runtime_cu12-12.6.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#12 5.990 Collecting nvidia-cuda-cupti-cu12==12.6.80 (from torch>=2.0.0->accelerate)
#12 5.996   Downloading nvidia_cuda_cupti_cu12-12.6.80-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#12 6.015 Collecting nvidia-cudnn-cu12==9.5.1.17 (from torch>=2.0.0->accelerate)
#12 6.021   Downloading nvidia_cudnn_cu12-9.5.1.17-py3-none-manylinux_2_28_x86_64.whl.metadata (1.6 kB)
#12 6.038 Collecting nvidia-cublas-cu12==12.6.4.1 (from torch>=2.0.0->accelerate)
#12 6.044   Downloading nvidia_cublas_cu12-12.6.4.1-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#12 6.111 Collecting nvidia-cufft-cu12==11.3.0.4 (from torch>=2.0.0->accelerate)
#12 6.116   Downloading nvidia_cufft_cu12-11.3.0.4-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#12 6.134 Collecting nvidia-curand-cu12==10.3.7.77 (from torch>=2.0.0->accelerate)
#12 6.140   Downloading nvidia_curand_cu12-10.3.7.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#12 6.157 Collecting nvidia-cusolver-cu12==11.7.1.2 (from torch>=2.0.0->accelerate)
#12 6.162   Downloading nvidia_cusolver_cu12-11.7.1.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#12 6.180 Collecting nvidia-cusparse-cu12==12.5.4.2 (from torch>=2.0.0->accelerate)
#12 6.186   Downloading nvidia_cusparse_cu12-12.5.4.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#12 6.199 Collecting nvidia-cusparselt-cu12==0.6.3 (from torch>=2.0.0->accelerate)
#12 6.207   Downloading nvidia_cusparselt_cu12-0.6.3-py3-none-manylinux2014_x86_64.whl.metadata (6.8 kB)
#12 6.223 Collecting nvidia-nccl-cu12==2.26.2 (from torch>=2.0.0->accelerate)
#12 6.229   Downloading nvidia_nccl_cu12-2.26.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.0 kB)
#12 6.247 Collecting nvidia-nvtx-cu12==12.6.77 (from torch>=2.0.0->accelerate)
#12 6.253   Downloading nvidia_nvtx_cu12-12.6.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.6 kB)
#12 6.271 Collecting nvidia-nvjitlink-cu12==12.6.85 (from torch>=2.0.0->accelerate)
#12 6.278   Downloading nvidia_nvjitlink_cu12-12.6.85-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl.metadata (1.5 kB)
#12 6.291 Collecting nvidia-cufile-cu12==1.11.1.6 (from torch>=2.0.0->accelerate)
#12 6.296   Downloading nvidia_cufile_cu12-1.11.1.6-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (1.5 kB)
#12 6.315 Collecting triton==3.3.1 (from torch>=2.0.0->accelerate)
#12 6.323   Downloading triton-3.3.1-cp310-cp310-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl.metadata (1.5 kB)
#12 6.390 Requirement already satisfied: setuptools>=40.8.0 in /opt/conda/lib/python3.10/site-packages (from triton==3.3.1->torch>=2.0.0->accelerate) (68.2.2)
#12 6.400 Requirement already satisfied: pycparser in /opt/conda/lib/python3.10/site-packages (from cffi>=1.0->soundfile==0.12.1) (2.21)
#12 6.512 Collecting llvmlite<0.45,>=0.44.0dev0 (from numba>=0.51.0->librosa==0.10.2)
#12 6.520   Downloading llvmlite-0.44.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.8 kB)
#12 6.553 Requirement already satisfied: platformdirs>=2.5.0 in /opt/conda/lib/python3.10/site-packages (from pooch>=1.1->librosa==0.10.2) (3.10.0)
#12 6.578 Requirement already satisfied: charset-normalizer<4,>=2 in /opt/conda/lib/python3.10/site-packages (from requests->transformers==4.43.3) (2.0.4)
#12 6.578 Requirement already satisfied: idna<4,>=2.5 in /opt/conda/lib/python3.10/site-packages (from requests->transformers==4.43.3) (3.4)
#12 6.579 Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/conda/lib/python3.10/site-packages (from requests->transformers==4.43.3) (1.26.18)
#12 6.580 Requirement already satisfied: certifi>=2017.4.17 in /opt/conda/lib/python3.10/site-packages (from requests->transformers==4.43.3) (2023.11.17)
#12 6.645 Collecting threadpoolctl>=3.1.0 (from scikit-learn>=0.20.0->librosa==0.10.2)
#12 6.653   Downloading threadpoolctl-3.6.0-py3-none-any.whl.metadata (13 kB)
#12 6.733 Collecting zipp>=3.20 (from importlib_metadata->diffusers)
#12 6.742   Downloading zipp-3.23.0-py3-none-any.whl.metadata (3.6 kB)
#12 6.802 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /opt/conda/lib/python3.10/site-packages (from sympy>=1.13.3->torch>=2.0.0->accelerate) (1.3.0)
#12 6.850 Requirement already satisfied: MarkupSafe>=2.0 in /opt/conda/lib/python3.10/site-packages (from jinja2->torch>=2.0.0->accelerate) (2.1.1)
#12 6.917 Downloading numpy-1.24.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
#12 7.241    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.3/17.3 MB 53.9 MB/s eta 0:00:00
#12 7.249 Downloading scipy-1.10.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.4 MB)
#12 7.883    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 34.4/34.4 MB 54.4 MB/s eta 0:00:00
#12 7.891 Downloading transformers-4.43.3-py3-none-any.whl (9.4 MB)
#12 8.059    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.4/9.4 MB 57.3 MB/s eta 0:00:00
#12 8.066 Downloading tokenizers-0.19.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
#12 8.135    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.6/3.6 MB 54.4 MB/s eta 0:00:00
#12 8.142 Downloading librosa-0.10.2-py3-none-any.whl (260 kB)
#12 8.148    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 260.0/260.0 kB 66.6 MB/s eta 0:00:00
#12 8.163 Downloading soundfile-0.12.1-py2.py3-none-manylinux_2_31_x86_64.whl (1.2 MB)
#12 8.181    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 78.3 MB/s eta 0:00:00
#12 8.188 Downloading huggingface_hub-0.23.5-py3-none-any.whl (402 kB)
#12 8.198    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 402.8/402.8 kB 52.4 MB/s eta 0:00:00
#12 8.206 Downloading diffusers-0.32.2-py3-none-any.whl (3.2 MB)
#12 8.484    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 11.7 MB/s eta 0:00:00
#12 8.493 Downloading accelerate-1.8.1-py3-none-any.whl (365 kB)
#12 8.499    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 365.3/365.3 kB 75.2 MB/s eta 0:00:00
#12 8.507 Downloading safetensors-0.5.3-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (471 kB)
#12 8.515    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 471.6/471.6 kB 84.2 MB/s eta 0:00:00
#12 8.522 Downloading opencv_python-4.11.0.86-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (63.0 MB)
#12 9.692    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.0/63.0 MB 54.2 MB/s eta 0:00:00
#12 9.701 Downloading imageio-2.37.0-py3-none-any.whl (315 kB)
#12 9.707    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 315.8/315.8 kB 72.5 MB/s eta 0:00:00
#12 9.715 Downloading einops-0.8.1-py3-none-any.whl (64 kB)
#12 9.718    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.4/64.4 kB 36.3 MB/s eta 0:00:00
#12 9.732 Downloading rotary_embedding_torch-0.8.8-py3-none-any.whl (5.9 kB)
#12 9.739 Downloading tensorboardx-2.6.4-py3-none-any.whl (87 kB)
#12 9.742    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 87.2/87.2 kB 180.4 MB/s eta 0:00:00
#12 9.748 Downloading omegaconf-2.3.0-py3-none-any.whl (79 kB)
#12 9.750    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 79.5/79.5 kB 397.7 MB/s eta 0:00:00
#12 9.758 Downloading easydict-1.13-py3-none-any.whl (6.8 kB)
#12 9.765 Downloading ftfy-6.3.1-py3-none-any.whl (44 kB)
#12 9.767    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 44.8/44.8 kB 330.5 MB/s eta 0:00:00
#12 9.775 Downloading xformers-0.0.31.post1-cp39-abi3-manylinux_2_28_x86_64.whl (117.1 MB)
#12 11.96    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 117.1/117.1 MB 53.8 MB/s eta 0:00:00
#12 11.97 Downloading torch-2.7.1-cp310-cp310-manylinux_2_28_x86_64.whl (821.2 MB)
#12 27.82    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 821.2/821.2 MB 54.4 MB/s eta 0:00:00
#12 27.83 Downloading nvidia_cublas_cu12-12.6.4.1-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (393.1 MB)
#12 35.59    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 393.1/393.1 MB 51.6 MB/s eta 0:00:00
#12 35.59 Downloading nvidia_cuda_cupti_cu12-12.6.80-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (8.9 MB)
#12 35.78    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 8.9/8.9 MB 48.8 MB/s eta 0:00:00
#12 35.79 Downloading nvidia_cuda_nvrtc_cu12-12.6.77-py3-none-manylinux2014_x86_64.whl (23.7 MB)
#12 36.23    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 23.7/23.7 MB 51.6 MB/s eta 0:00:00
#12 36.24 Downloading nvidia_cuda_runtime_cu12-12.6.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (897 kB)
#12 36.26    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 897.7/897.7 kB 67.2 MB/s eta 0:00:00
#12 36.27 Downloading nvidia_cudnn_cu12-9.5.1.17-py3-none-manylinux_2_28_x86_64.whl (571.0 MB)
#12 47.09    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 571.0/571.0 MB 52.8 MB/s eta 0:00:00
#12 47.10 Downloading nvidia_cufft_cu12-11.3.0.4-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (200.2 MB)
#12 50.82    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 200.2/200.2 MB 55.7 MB/s eta 0:00:00
#12 50.83 Downloading nvidia_cufile_cu12-1.11.1.6-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (1.1 MB)
#12 50.86    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.1/1.1 MB 58.8 MB/s eta 0:00:00
#12 50.86 Downloading nvidia_curand_cu12-10.3.7.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (56.3 MB)
#12 51.92    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.3/56.3 MB 52.7 MB/s eta 0:00:00
#12 51.93 Downloading nvidia_cusolver_cu12-11.7.1.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (158.2 MB)
#12 54.82    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 158.2/158.2 MB 54.5 MB/s eta 0:00:00
#12 54.83 Downloading nvidia_cusparse_cu12-12.5.4.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (216.6 MB)
#12 58.88    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 216.6/216.6 MB 52.2 MB/s eta 0:00:00
#12 58.89 Downloading nvidia_cusparselt_cu12-0.6.3-py3-none-manylinux2014_x86_64.whl (156.8 MB)
#12 61.90    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 156.8/156.8 MB 52.9 MB/s eta 0:00:00
#12 61.90 Downloading nvidia_nccl_cu12-2.26.2-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (201.3 MB)
#12 65.69    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 201.3/201.3 MB 50.2 MB/s eta 0:00:00
#12 65.70 Downloading nvidia_nvjitlink_cu12-12.6.85-py3-none-manylinux2010_x86_64.manylinux_2_12_x86_64.whl (19.7 MB)
#12 66.11    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19.7/19.7 MB 49.6 MB/s eta 0:00:00
#12 66.12 Downloading nvidia_nvtx_cu12-12.6.77-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (89 kB)
#12 66.12    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 89.3/89.3 kB 339.3 MB/s eta 0:00:00
#12 66.13 Downloading triton-3.3.1-cp310-cp310-manylinux_2_27_x86_64.manylinux_2_28_x86_64.whl (155.6 MB)
#12 69.08    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 155.6/155.6 MB 52.7 MB/s eta 0:00:00
#12 69.09 Downloading audioread-3.0.1-py3-none-any.whl (23 kB)
#12 69.09 Downloading joblib-1.5.1-py3-none-any.whl (307 kB)
#12 69.10    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 307.7/307.7 kB 114.6 MB/s eta 0:00:00
#12 69.11 Downloading lazy_loader-0.4-py3-none-any.whl (12 kB)
#12 69.12 Downloading msgpack-1.1.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (408 kB)
#12 69.13    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 408.6/408.6 kB 96.2 MB/s eta 0:00:00
#12 69.13 Downloading numba-0.61.2-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.8 MB)
#12 69.22    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.8/3.8 MB 44.0 MB/s eta 0:00:00
#12 69.23 Downloading pooch-1.8.2-py3-none-any.whl (64 kB)
#12 69.23    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.6/64.6 kB 167.9 MB/s eta 0:00:00
#12 69.24 Downloading protobuf-6.31.1-cp39-abi3-manylinux2014_x86_64.whl (321 kB)
#12 69.25    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 321.1/321.1 kB 100.7 MB/s eta 0:00:00
#12 69.26 Downloading regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#12 69.27    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 68.6 MB/s eta 0:00:00
#12 69.28 Downloading scikit_learn-1.7.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.9 MB)
#12 69.51    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.9/12.9 MB 55.7 MB/s eta 0:00:00
#12 69.52 Downloading soxr-0.5.0.post1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (252 kB)
#12 69.52    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 252.8/252.8 kB 128.4 MB/s eta 0:00:00
#12 69.53 Downloading typing_extensions-4.14.1-py3-none-any.whl (43 kB)
#12 69.53    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 43.9/43.9 kB 249.5 MB/s eta 0:00:00
#12 69.54 Downloading importlib_metadata-8.7.0-py3-none-any.whl (27 kB)
#12 69.55 Downloading llvmlite-0.44.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (42.4 MB)
#12 70.39    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.4/42.4 MB 52.8 MB/s eta 0:00:00
#12 70.40 Downloading sympy-1.14.0-py3-none-any.whl (6.3 MB)
#12 70.52    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.3/6.3 MB 53.5 MB/s eta 0:00:00
#12 70.52 Downloading threadpoolctl-3.6.0-py3-none-any.whl (18 kB)
#12 70.53 Downloading zipp-3.23.0-py3-none-any.whl (10 kB)
#12 80.60 Building wheels for collected packages: antlr4-python3-runtime
#12 80.60   Building wheel for antlr4-python3-runtime (setup.py): started
#12 80.97   Building wheel for antlr4-python3-runtime (setup.py): finished with status 'done'
#12 80.97   Created wheel for antlr4-python3-runtime: filename=antlr4_python3_runtime-4.9.3-py3-none-any.whl size=144554 sha256=0d09d5be323ed6e1130f86bb7ac75f69fcef3cc6f1d690e44dccf7fd1854598a
#12 80.97   Stored in directory: /tmp/pip-ephem-wheel-cache-xq4_znu2/wheels/12/93/dd/1f6a127edc45659556564c5730f6d4e300888f4bca2d4c5a88
#12 80.98 Successfully built antlr4-python3-runtime
#12 82.02 Installing collected packages: nvidia-cusparselt-cu12, easydict, antlr4-python3-runtime, zipp, typing-extensions, triton, threadpoolctl, sympy, safetensors, regex, protobuf, omegaconf, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufile-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, numpy, msgpack, llvmlite, lazy-loader, joblib, ftfy, einops, audioread, tensorboardX, soxr, soundfile, scipy, pooch, opencv-python, nvidia-cusparse-cu12, nvidia-cufft-cu12, nvidia-cudnn-cu12, numba, importlib_metadata, imageio, huggingface-hub, tokenizers, scikit-learn, nvidia-cusolver-cu12, diffusers, transformers, torch, librosa, xformers, rotary-embedding-torch, accelerate
#12 83.56   Attempting uninstall: typing-extensions
#12 83.56     Found existing installation: typing_extensions 4.7.1
#12 83.56     Uninstalling typing_extensions-4.7.1:
#12 83.84       Successfully uninstalled typing_extensions-4.7.1
#12 83.86   Attempting uninstall: triton
#12 83.86     Found existing installation: triton 2.1.0
#12 83.86     Uninstalling triton-2.1.0:
#12 84.57       Successfully uninstalled triton-2.1.0
#12 86.94   Attempting uninstall: sympy
#12 86.95     Found existing installation: sympy 1.12
#12 87.05     Uninstalling sympy-1.12:
#12 87.83       Successfully uninstalled sympy-1.12
#12 98.45   Attempting uninstall: numpy
#12 98.46     Found existing installation: numpy 1.26.2
#12 98.50     Uninstalling numpy-1.26.2:
#12 98.89       Successfully uninstalled numpy-1.26.2
#12 123.7   Attempting uninstall: torch
#12 123.7     Found existing installation: torch 2.1.2
#12 123.7     Uninstalling torch-2.1.2:
#12 131.5       Successfully uninstalled torch-2.1.2
#12 146.3 Successfully installed accelerate-1.8.1 antlr4-python3-runtime-4.9.3 audioread-3.0.1 diffusers-0.32.2 easydict-1.13 einops-0.8.1 ftfy-6.3.1 huggingface-hub-0.23.5 imageio-2.37.0 importlib_metadata-8.7.0 joblib-1.5.1 lazy-loader-0.4 librosa-0.10.2 llvmlite-0.44.0 msgpack-1.1.1 numba-0.61.2 numpy-1.24.3 nvidia-cublas-cu12-12.6.4.1 nvidia-cuda-cupti-cu12-12.6.80 nvidia-cuda-nvrtc-cu12-12.6.77 nvidia-cuda-runtime-cu12-12.6.77 nvidia-cudnn-cu12-9.5.1.17 nvidia-cufft-cu12-11.3.0.4 nvidia-cufile-cu12-1.11.1.6 nvidia-curand-cu12-10.3.7.77 nvidia-cusolver-cu12-11.7.1.2 nvidia-cusparse-cu12-12.5.4.2 nvidia-cusparselt-cu12-0.6.3 nvidia-nccl-cu12-2.26.2 nvidia-nvjitlink-cu12-12.6.85 nvidia-nvtx-cu12-12.6.77 omegaconf-2.3.0 opencv-python-4.11.0.86 pooch-1.8.2 protobuf-6.31.1 regex-2024.11.6 rotary-embedding-torch-0.8.8 safetensors-0.5.3 scikit-learn-1.7.0 scipy-1.10.1 soundfile-0.12.1 soxr-0.5.0.post1 sympy-1.14.0 tensorboardX-2.6.4 threadpoolctl-3.6.0 tokenizers-0.19.1 torch-2.7.1 transformers-4.43.3 triton-3.3.1 typing-extensions-4.14.1 xformers-0.0.31.post1 zipp-3.23.0
#12 146.3 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#12 DONE 147.5s

#13 [8/9] RUN chmod +x setup_official_multitalk_v78.sh &&     ./setup_official_multitalk_v78.sh
#13 0.372 ==========================================
#13 0.372 Setting up MultiTalk V78 - Replicate Approach
#13 0.372 ==========================================
#13 0.373 📁 Creating directory structure...
#13 0.406 📥 Cloning official MultiTalk repository...
#13 0.430 Cloning into 'MultiTalk'...
#13 1.668 📋 Copying official implementation (without kokoro)...
#13 1.690 cp: cannot stat 'scripts/generate_multitalk.py': No such file or directory
#13 1.692 ⚠️ generate_multitalk.py not found in scripts/, checking root...
#13 1.743 🔧 Patching generate_multitalk.py to remove kokoro dependency...
#13 1.764 Found kokoro import, removing it...
#13 1.841 📦 Installing MultiTalk-specific dependencies...
#13 2.437 Requirement already satisfied: einops in /opt/conda/lib/python3.10/site-packages (0.8.1)
#13 2.437 Requirement already satisfied: rotary-embedding-torch in /opt/conda/lib/python3.10/site-packages (0.8.8)
#13 2.438 Requirement already satisfied: tensorboardX in /opt/conda/lib/python3.10/site-packages (2.6.4)
#13 2.439 Requirement already satisfied: omegaconf in /opt/conda/lib/python3.10/site-packages (2.3.0)
#13 2.443 Requirement already satisfied: torch>=2.0 in /opt/conda/lib/python3.10/site-packages (from rotary-embedding-torch) (2.7.1)
#13 2.445 Requirement already satisfied: numpy in /opt/conda/lib/python3.10/site-packages (from tensorboardX) (1.24.3)
#13 2.446 Requirement already satisfied: packaging in /opt/conda/lib/python3.10/site-packages (from tensorboardX) (23.1)
#13 2.446 Requirement already satisfied: protobuf>=3.20 in /opt/conda/lib/python3.10/site-packages (from tensorboardX) (6.31.1)
#13 2.450 Requirement already satisfied: antlr4-python3-runtime==4.9.* in /opt/conda/lib/python3.10/site-packages (from omegaconf) (4.9.3)
#13 2.451 Requirement already satisfied: PyYAML>=5.1.0 in /opt/conda/lib/python3.10/site-packages (from omegaconf) (6.0.1)
#13 2.501 Requirement already satisfied: filelock in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (3.13.1)
#13 2.503 Requirement already satisfied: typing-extensions>=4.10.0 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (4.14.1)
#13 2.505 Requirement already satisfied: sympy>=1.13.3 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (1.14.0)
#13 2.505 Requirement already satisfied: networkx in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (3.1)
#13 2.506 Requirement already satisfied: jinja2 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (3.1.2)
#13 2.507 Requirement already satisfied: fsspec in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (2023.12.2)
#13 2.509 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.6.77 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.77)
#13 2.515 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.6.77 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.77)
#13 2.518 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.6.80 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.80)
#13 2.520 Requirement already satisfied: nvidia-cudnn-cu12==9.5.1.17 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (9.5.1.17)
#13 2.523 Requirement already satisfied: nvidia-cublas-cu12==12.6.4.1 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.4.1)
#13 2.526 Requirement already satisfied: nvidia-cufft-cu12==11.3.0.4 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (11.3.0.4)
#13 2.528 Requirement already satisfied: nvidia-curand-cu12==10.3.7.77 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (10.3.7.77)
#13 2.531 Requirement already satisfied: nvidia-cusolver-cu12==11.7.1.2 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (11.7.1.2)
#13 2.534 Requirement already satisfied: nvidia-cusparse-cu12==12.5.4.2 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.5.4.2)
#13 2.536 Requirement already satisfied: nvidia-cusparselt-cu12==0.6.3 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (0.6.3)
#13 2.538 Requirement already satisfied: nvidia-nccl-cu12==2.26.2 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (2.26.2)
#13 2.540 Requirement already satisfied: nvidia-nvtx-cu12==12.6.77 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.77)
#13 2.543 Requirement already satisfied: nvidia-nvjitlink-cu12==12.6.85 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (12.6.85)
#13 2.546 Requirement already satisfied: nvidia-cufile-cu12==1.11.1.6 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (1.11.1.6)
#13 2.548 Requirement already satisfied: triton==3.3.1 in /opt/conda/lib/python3.10/site-packages (from torch>=2.0->rotary-embedding-torch) (3.3.1)
#13 2.584 Requirement already satisfied: setuptools>=40.8.0 in /opt/conda/lib/python3.10/site-packages (from triton==3.3.1->torch>=2.0->rotary-embedding-torch) (68.2.2)
#13 2.591 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /opt/conda/lib/python3.10/site-packages (from sympy>=1.13.3->torch>=2.0->rotary-embedding-torch) (1.3.0)
#13 2.635 Requirement already satisfied: MarkupSafe>=2.0 in /opt/conda/lib/python3.10/site-packages (from jinja2->torch>=2.0->rotary-embedding-torch) (2.1.1)
#13 3.485 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#13 3.726 ✅ MultiTalk V78 setup complete!
#13 3.726 📁 Official implementation installed at: /app/multitalk_official
#13 3.726    - generate_multitalk.py (official script, kokoro removed)
#13 3.726    - wan/ (core implementation)
#13 3.726    - NO kokoro module (following Replicate approach)
#13 3.726 
#13 3.726 🎉 Ready to use MultiTalk without misaki dependency!
#13 DONE 3.7s

#14 [9/9] RUN python -c "import scipy.stats; print('✅ SciPy imports')" &&     python -c "import torch; print('✅ PyTorch imports')" &&     python -c "import transformers; print('✅ Transformers imports')" &&     python -c "import diffusers; print('✅ Diffusers imports')" &&     python -c "import cv2; print('✅ OpenCV imports')" &&     echo "✅ All critical imports successful"
#14 1.053 ✅ SciPy imports
#14 3.676 ✅ PyTorch imports
#14 6.561 ✅ Transformers imports
#14 9.432 ✅ Diffusers imports
#14 10.11 ✅ OpenCV imports
#14 10.14 ✅ All critical imports successful
#14 DONE 10.1s

#15 exporting to image
#15 exporting layers
#15 exporting layers 10.9s done
#15 writing image sha256:b1eb5ff96465abc634547f6b15a7429c33987a24ab610086eb8ab7cf9184c183 done
#15 naming to docker.io/berrylands/multitalk-runpod:v79-final done
#15 DONE 10.9s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/yyh7qgmeze00yushsdl5122hg

 [33m1 warning found (use docker --debug to expand):
[0m - InvalidBaseImagePlatform: Base image pytorch/pytorch:2.1.2-cuda12.1-cudnn8-devel was pulled with platform "linux/amd64", expected "linux/arm64" for current build (line 3)
